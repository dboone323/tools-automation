<!DOCTYPE html><!doctype html>

<html lang="en"><html lang="en">

<head>  <head>

    <meta charset="UTF-8">    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Quantum Workspace Agent Dashboard</title>    <title>Quantum Workspace Agent Dashboard</title>

    <style>    <style>

        :root {      * {

            --primary: #6366f1;        margin: 0;

            --primary-dark: #4f46e5;        padding: 0;

            --success: #10b981;        box-sizing: border-box;

            --warning: #f59e0b;      }

            --danger: #ef4444;

            --bg-dark: #0f172a;      body {

            --bg-light: #1e293b;        font-family:

            --text-primary: #f8fafc;          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;

            --text-secondary: #94a3b8;        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

            --border: #334155;        min-height: 100vh;

        }        padding: 20px;

      }

        * {

            margin: 0;      .dashboard-container {

            padding: 0;        max-width: 1400px;

            box-sizing: border-box;        margin: 0 auto;

        }      }



        body {      .header {

            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;        text-align: center;

            background: linear-gradient(135deg, var(--bg-dark) 0%, #1a2332 100%);        margin-bottom: 30px;

            color: var(--text-primary);      }

            line-height: 1.6;

            min-height: 100vh;      .header h1 {

            padding: 2rem;        color: white;

        }        font-size: 2.5rem;

        font-weight: 300;

        header {        margin-bottom: 10px;

            text-align: center;        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);

            margin-bottom: 3rem;      }

            padding: 2rem;

            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);      .header .subtitle {

            border-radius: 1rem;        color: rgba(255, 255, 255, 0.8);

            box-shadow: 0 20px 60px rgba(99, 102, 241, 0.3);        font-size: 1.1rem;

        }      }



        h1 {      .stats-grid {

            font-size: 2.5rem;        display: grid;

            font-weight: 700;        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));

            margin-bottom: 0.5rem;        gap: 20px;

        }        margin-bottom: 30px;

      }

        .subtitle {

            color: rgba(248, 250, 252, 0.9);      .stat-card {

            font-size: 1.1rem;        background: white;

        }        border-radius: 12px;

        padding: 25px;

        .last-update {        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);

            margin-top: 0.5rem;        border: 1px solid rgba(255, 255, 255, 0.2);

            font-size: 0.9rem;      }

            color: rgba(248, 250, 252, 0.7);

        }      .stat-card h3 {

        color: #333;

        .container {        font-size: 0.9rem;

            max-width: 1600px;        text-transform: uppercase;

            margin: 0 auto;        letter-spacing: 1px;

        }        margin-bottom: 15px;

        opacity: 0.7;

        .orchestrator-card {      }

            background: var(--bg-light);

            border: 2px solid var(--border);      .stat-value {

            border-radius: 1rem;        font-size: 2.5rem;

            padding: 2rem;        font-weight: 300;

            margin-bottom: 2rem;        color: #667eea;

            backdrop-filter: blur(10px);        margin-bottom: 5px;

            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);      }

            transition: transform 0.2s;

        }      .stat-label {

        color: #666;

        .orchestrator-card:hover {        font-size: 0.9rem;

            transform: translateY(-2px);      }

            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);

        }      .main-content {

        display: grid;

        .orchestrator-header {        grid-template-columns: 2fr 1fr;

            display: flex;        gap: 30px;

            justify-content: space-between;      }

            align-items: center;

            margin-bottom: 1.5rem;      .agents-section,

        }      .tasks-section {

        background: white;

        .orchestrator-title {        border-radius: 12px;

            font-size: 1.5rem;        padding: 25px;

            font-weight: 600;        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);

            color: var(--primary);      }

        }

      .section-header {

        .orchestrator-stats {        display: flex;

            display: grid;        justify-content: between;

            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));        align-items: center;

            gap: 1rem;        margin-bottom: 20px;

        }        border-bottom: 2px solid #f0f0f0;

        padding-bottom: 15px;

        .stat-box {      }

            background: rgba(99, 102, 241, 0.1);

            padding: 1rem;      .section-header h2 {

            border-radius: 0.5rem;        color: #333;

            border-left: 4px solid var(--primary);        font-size: 1.5rem;

        }        font-weight: 400;

      }

        .stat-label {

            font-size: 0.85rem;      .refresh-btn {

            color: var(--text-secondary);        background: #667eea;

            margin-bottom: 0.25rem;        color: white;

        }        border: none;

        padding: 8px 16px;

        .stat-value {        border-radius: 6px;

            font-size: 1.75rem;        cursor: pointer;

            font-weight: 700;        font-size: 0.9rem;

            color: var(--text-primary);        transition: background 0.3s;

        }      }



        .stats-grid {      .refresh-btn:hover {

            display: grid;        background: #5a6fd8;

            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));      }

            gap: 1.5rem;

            margin-bottom: 2rem;      .agent-grid {

        }        display: grid;

        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));

        .stat-card {        gap: 15px;

            background: var(--bg-light);      }

            border: 1px solid var(--border);

            border-radius: 0.75rem;      .agent-card {

            padding: 1.5rem;        border: 1px solid #e0e0e0;

            backdrop-filter: blur(10px);        border-radius: 8px;

        }        padding: 15px;

        transition: all 0.3s;

        .stat-card h3 {      }

            font-size: 0.9rem;

            color: var(--text-secondary);      .agent-card:hover {

            margin-bottom: 0.5rem;        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);

            text-transform: uppercase;        transform: translateY(-2px);

            letter-spacing: 0.05em;      }

        }

      .agent-header {

        .stat-card .value {        display: flex;

            font-size: 2rem;        justify-content: space-between;

            font-weight: 700;        align-items: center;

            color: var(--primary);        margin-bottom: 10px;

        }      }



        .sections {      .agent-name {

            display: grid;        font-weight: 600;

            grid-template-columns: 1fr 1fr;        color: #333;

            gap: 2rem;      }

            margin-bottom: 2rem;

        }      .agent-status {

        padding: 4px 12px;

        @media (max-width: 1200px) {        border-radius: 20px;

            .sections {        font-size: 0.8rem;

                grid-template-columns: 1fr;        font-weight: 500;

            }        text-transform: uppercase;

        }      }



        .section {      .status-running {

            background: var(--bg-light);        background: #d4edda;

            border: 1px solid var(--border);        color: #155724;

            border-radius: 0.75rem;      }

            padding: 1.5rem;

            backdrop-filter: blur(10px);      .status-stopped {

        }        background: #f8d7da;

        color: #721c24;

        .section h2 {      }

            font-size: 1.25rem;

            margin-bottom: 1rem;      .status-idle {

            color: var(--primary);        background: #fff3cd;

        }        color: #856404;

      }

        .agent-grid {

            display: grid;      .agent-pid {

            gap: 1rem;        color: #666;

        }        font-size: 0.9rem;

      }

        .agent-card {

            background: rgba(30, 41, 59, 0.5);      .tasks-list {

            border: 1px solid var(--border);        max-height: 500px;

            border-radius: 0.5rem;        overflow-y: auto;

            padding: 1rem;      }

            transition: all 0.2s;

        }      .task-item {

        border: 1px solid #e0e0e0;

        .agent-card:hover {        border-radius: 8px;

            background: rgba(30, 41, 59, 0.8);        padding: 15px;

            transform: translateX(5px);        margin-bottom: 10px;

        }        transition: all 0.3s;

      }

        .agent-header {

            display: flex;      .task-item:hover {

            justify-content: space-between;        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

            align-items: center;      }

            margin-bottom: 0.75rem;

        }      .task-header {

        display: flex;

        .agent-name {        justify-content: space-between;

            font-weight: 600;        align-items: center;

            font-size: 1.1rem;        margin-bottom: 8px;

        }      }



        .health-badge {      .task-id {

            padding: 0.25rem 0.75rem;        font-weight: 600;

            border-radius: 1rem;        color: #333;

            font-size: 0.75rem;        font-size: 0.9rem;

            font-weight: 600;      }

            text-transform: uppercase;

        }      .task-priority {

        padding: 2px 8px;

        .health-running { background: var(--success); color: white; }        border-radius: 12px;

        .health-warning { background: var(--warning); color: white; }        font-size: 0.7rem;

        .health-offline { background: var(--danger); color: white; }        font-weight: 500;

        text-transform: uppercase;

        .agent-details {      }

            display: grid;

            grid-template-columns: repeat(2, 1fr);      .priority-high {

            gap: 0.5rem;        background: #f8d7da;

            font-size: 0.9rem;        color: #721c24;

            color: var(--text-secondary);      }

        }

      .priority-medium {

        .agent-detail {        background: #fff3cd;

            display: flex;        color: #856404;

            justify-content: space-between;      }

        }

      .priority-low {

        .task-list {        background: #d1ecf1;

            display: grid;        color: #0c5460;

            gap: 0.75rem;      }

        }

      .task-description {

        .task-item {        color: #666;

            background: rgba(30, 41, 59, 0.5);        font-size: 0.9rem;

            border-left: 3px solid var(--primary);        margin-bottom: 8px;

            border-radius: 0.25rem;      }

            padding: 0.75rem;

            font-size: 0.9rem;      .task-meta {

        }        display: flex;

        justify-content: space-between;

        .task-item strong {        font-size: 0.8rem;

            color: var(--text-primary);        color: #888;

        }      }



        .empty-state {      .task-status {

            text-align: center;        padding: 2px 8px;

            padding: 2rem;        border-radius: 12px;

            color: var(--text-secondary);        font-size: 0.7rem;

            font-style: italic;        font-weight: 500;

        }        text-transform: uppercase;

      }

        .loading {

            text-align: center;      .status-queued {

            padding: 3rem;        background: #e2e3e5;

            font-size: 1.2rem;        color: #383d41;

            color: var(--text-secondary);      }

        }

      .status-completed {

        @keyframes pulse {        background: #d4edda;

            0%, 100% { opacity: 1; }        color: #155724;

            50% { opacity: 0.5; }      }

        }

      .status-failed {

        .loading::after {        background: #f8d7da;

            content: '...';        color: #721c24;

            animation: pulse 1.5s infinite;      }

        }

    </style>      .loading {

</head>        text-align: center;

<body>        padding: 40px;

    <header>        color: #666;

        <h1>ðŸš€ Quantum Workspace</h1>      }

        <div class="subtitle">Agent Monitoring Dashboard</div>

        <div class="last-update" id="lastUpdate">Loading...</div>      .error {

    </header>        background: #f8d7da;

        color: #721c24;

    <div class="container">        padding: 15px;

        <!-- Orchestrator Section -->        border-radius: 8px;

        <div class="orchestrator-card" id="orchestrator">        margin-bottom: 20px;

            <div class="orchestrator-header">        border: 1px solid #f5c6cb;

                <div class="orchestrator-title">ðŸŽ¯ Task Orchestrator</div>      }

                <div class="health-badge" id="orchestratorHealth">Loading...</div>

            </div>      .performance-section {

            <div class="orchestrator-stats" id="orchestratorStats">        background: white;

                <div class="stat-box">        border-radius: 12px;

                    <div class="stat-label">Queued</div>        padding: 25px;

                    <div class="stat-value" id="tasksQueued">-</div>        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);

                </div>        margin-top: 30px;

                <div class="stat-box">      }

                    <div class="stat-label">In Progress</div>

                    <div class="stat-value" id="tasksInProgress">-</div>      .performance-grid {

                </div>        display: grid;

                <div class="stat-box">        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));

                    <div class="stat-label">Completed</div>        gap: 20px;

                    <div class="stat-value" id="tasksCompleted">-</div>      }

                </div>

                <div class="stat-box">      .performance-card {

                    <div class="stat-label">Last Seen</div>        border: 1px solid #e0e0e0;

                    <div class="stat-value" id="orchestratorLastSeen" style="font-size: 1.2rem;">-</div>        border-radius: 8px;

                </div>        padding: 20px;

            </div>        transition: all 0.3s;

        </div>      }



        <!-- Task Statistics -->      .performance-card:hover {

        <div class="stats-grid">        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);

            <div class="stat-card">        transform: translateY(-2px);

                <h3>Success Rate</h3>      }

                <div class="value" id="successRate">-%</div>

            </div>      .performance-header {

            <div class="stat-card">        display: flex;

                <h3>Avg Completion Time</h3>        justify-content: space-between;

                <div class="value" id="avgCompletionTime">-s</div>        align-items: center;

            </div>        margin-bottom: 15px;

            <div class="stat-card">        padding-bottom: 10px;

                <h3>Total Tasks</h3>        border-bottom: 1px solid #f0f0f0;

                <div class="value" id="totalTasks">-</div>      }

            </div>

            <div class="stat-card">      .performance-title {

                <h3>Failed</h3>        font-weight: 600;

                <div class="value" id="failedTasks" style="color: var(--danger);">-</div>        color: #333;

            </div>        font-size: 1.1rem;

        </div>      }



        <!-- Recent Activity -->      .performance-time {

        <div class="sections">        color: #666;

            <div class="section">        font-size: 0.9rem;

                <h2>âœ… Recent Completions</h2>      }

                <div class="task-list" id="recentCompletions">

                    <div class="loading">Loading recent completions</div>      .performance-metrics {

                </div>        display: grid;

            </div>        grid-template-columns: 1fr 1fr;

            <div class="section">        gap: 15px;

                <h2>ðŸ“‹ Recent Assignments</h2>      }

                <div class="task-list" id="recentAssignments">

                    <div class="loading">Loading recent assignments</div>      .metric-item {

                </div>        text-align: center;

            </div>      }

        </div>

      .metric-value {

        <!-- Agents -->        font-size: 1.5rem;

        <div class="section">        font-weight: 600;

            <h2>ðŸ¤– Active Agents</h2>        color: #667eea;

            <div class="agent-grid" id="agentGrid">        margin-bottom: 5px;

                <div class="loading">Loading agent data</div>      }

            </div>

        </div>      .metric-label {

    </div>        color: #666;

        font-size: 0.9rem;

    <script>        text-transform: uppercase;

        let refreshInterval;        letter-spacing: 0.5px;

      }

        async function fetchData() {

            try {      .performance-trend {

                const response = await fetch('/api/dashboard-data');        margin-top: 15px;

                const data = await response.json();        padding-top: 15px;

                updateDashboard(data);        border-top: 1px solid #f0f0f0;

            } catch (error) {      }

                console.error('Error fetching dashboard data:', error);

                document.getElementById('lastUpdate').textContent = 'Error loading data - retrying...';      .trend-indicator {

            }        display: flex;

        }        align-items: center;

        font-size: 0.9rem;

        function updateDashboard(data) {        color: #666;

            // Update last update time      }

            document.getElementById('lastUpdate').textContent = 

                `Last updated: ${data.last_update_relative || 'just now'}`;      .trend-up {

        color: #28a745;

            // Update orchestrator      }

            if (data.orchestrator) {

                const orc = data.orchestrator;      .trend-down {

                document.getElementById('tasksQueued').textContent = orc.tasks_queued || 0;        color: #dc3545;

                document.getElementById('tasksInProgress').textContent = orc.tasks_in_progress || 0;      }

                document.getElementById('tasksCompleted').textContent = orc.tasks_completed || 0;

                document.getElementById('orchestratorLastSeen').textContent = orc.last_seen_relative || 'unknown';      .trend-stable {

                        color: #ffc107;

                const healthBadge = document.getElementById('orchestratorHealth');      }

                healthBadge.textContent = orc.health || 'unknown';

                healthBadge.className = 'health-badge health-' + (orc.health || 'offline');      .execution-history-section {

            }        background: white;

        border-radius: 12px;

            // Update task statistics        padding: 25px;

            if (data.task_statistics) {        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);

                const stats = data.task_statistics;        margin-top: 30px;

                document.getElementById('successRate').textContent =       }

                    (stats.success_rate || 0).toFixed(1) + '%';

                document.getElementById('avgCompletionTime').textContent =       .execution-history-grid {

                    (stats.average_completion_time_seconds || 0).toFixed(0) + 's';        display: grid;

                document.getElementById('totalTasks').textContent = stats.total_tasks || 0;        gap: 15px;

                document.getElementById('failedTasks').textContent = stats.failed || 0;      }



                // Recent completions      .execution-item {

                const completionsDiv = document.getElementById('recentCompletions');        border: 1px solid #e0e0e0;

                if (stats.recent_completions && stats.recent_completions.length > 0) {        border-radius: 8px;

                    completionsDiv.innerHTML = stats.recent_completions.map(task => `        padding: 20px;

                        <div class="task-item">        transition: all 0.3s;

                            <strong>${task.type || 'Unknown'}</strong> -       }

                            Completed ${task.completed_relative || 'recently'}

                        </div>      .execution-item:hover {

                    `).join('');        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);

                } else {        transform: translateY(-2px);

                    completionsDiv.innerHTML = '<div class="empty-state">No recent completions</div>';      }

                }

            }      .execution-header {

        display: flex;

            // Recent assignments        justify-content: space-between;

            if (data.orchestrator && data.orchestrator.recent_assignments) {        align-items: center;

                const assignmentsDiv = document.getElementById('recentAssignments');        margin-bottom: 15px;

                if (data.orchestrator.recent_assignments.length > 0) {        padding-bottom: 10px;

                    assignmentsDiv.innerHTML = data.orchestrator.recent_assignments.map(task => `        border-bottom: 1px solid #f0f0f0;

                        <div class="task-item">      }

                            <strong>${task.type || 'Unknown'}</strong> â†’ 

                            ${task.assigned_to || 'Unknown agent'}      .execution-title {

                        </div>        font-weight: 600;

                    `).join('');        color: #333;

                } else {        font-size: 1.1rem;

                    assignmentsDiv.innerHTML = '<div class="empty-state">No recent assignments</div>';      }

                }

            }      .execution-meta {

        display: flex;

            // Update agents        gap: 15px;

            if (data.agents) {        font-size: 0.9rem;

                const agentGrid = document.getElementById('agentGrid');        color: #666;

                const agents = Object.entries(data.agents).sort((a, b) =>       }

                    a[0].localeCompare(b[0])

                );      .execution-description {

        color: #666;

                if (agents.length > 0) {        margin-bottom: 15px;

                    agentGrid.innerHTML = agents.map(([name, agent]) => `        line-height: 1.4;

                        <div class="agent-card">      }

                            <div class="agent-header">

                                <div class="agent-name">${name}</div>      .execution-stats {

                                <div class="health-badge health-${agent.health || 'offline'}">        display: grid;

                                    ${agent.health || 'offline'}        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));

                                </div>        gap: 15px;

                            </div>        margin-bottom: 15px;

                            <div class="agent-details">      }

                                <div class="agent-detail">

                                    <span>PID:</span>      .execution-stat {

                                    <strong>${agent.pid || 'N/A'}</strong>        text-align: center;

                                </div>        padding: 10px;

                                <div class="agent-detail">        background: #f8f9fa;

                                    <span>Last Seen:</span>        border-radius: 6px;

                                    <strong>${agent.last_seen_relative || 'unknown'}</strong>      }

                                </div>

                                <div class="agent-detail">      .execution-stat-value {

                                    <span>Tasks:</span>        font-size: 1.2rem;

                                    <strong>${agent.tasks_completed || 0} / ${agent.total_tasks || 0}</strong>        font-weight: 600;

                                </div>        color: #667eea;

                                <div class="agent-detail">        display: block;

                                    <span>Success Rate:</span>      }

                                    <strong>${agent.success_rate || 0}%</strong>

                                </div>      .execution-stat-label {

                            </div>        font-size: 0.8rem;

                        </div>        color: #666;

                    `).join('');        text-transform: uppercase;

                } else {        letter-spacing: 0.5px;

                    agentGrid.innerHTML = '<div class="empty-state">No agents available</div>';      }

                }

            }      .execution-result {

        }        display: inline-block;

        padding: 4px 12px;

        // Initial load        border-radius: 20px;

        fetchData();        font-size: 0.8rem;

        font-weight: 500;

        // Auto-refresh every 30 seconds        text-transform: uppercase;

        refreshInterval = setInterval(fetchData, 30000);      }



        // Cleanup on page unload      .result-success {

        window.addEventListener('beforeunload', () => {        background: #d4edda;

            clearInterval(refreshInterval);        color: #155724;

        });      }

    </script>

</body>      .result-failed {

</html>        background: #f8d7da;

        color: #721c24;
      }

      .execution-output {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 6px;
        font-size: 0.9rem;
        color: #666;
        margin-top: 10px;
        border-left: 4px solid #667eea;
      }

      .execution-summary {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin-top: 20px;
        border: 1px solid #e0e0e0;
      }

      .summary-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
      }

      .summary-item {
        text-align: center;
      }

      .summary-value {
        font-size: 2rem;
        font-weight: 600;
        color: #667eea;
        display: block;
        margin-bottom: 5px;
      }

      .summary-label {
        color: #666;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .system-health-section {
        background: white;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        margin-top: 30px;
      }

      .health-overview {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .health-card {
        background: #f8f9fa;
        border-radius: 8px;
        padding: 20px;
        text-align: center;
        border: 2px solid transparent;
        transition: all 0.3s;
      }

      .health-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .health-card.healthy {
        border-color: #28a745;
        background: linear-gradient(135deg, #d4edda 0%, #f8f9fa 100%);
      }

      .health-card.warning {
        border-color: #ffc107;
        background: linear-gradient(135deg, #fff3cd 0%, #f8f9fa 100%);
      }

      .health-card.critical {
        border-color: #dc3545;
        background: linear-gradient(135deg, #f8d7da 0%, #f8f9fa 100%);
      }

      .health-value {
        font-size: 2rem;
        font-weight: 600;
        color: #333;
        margin-bottom: 5px;
      }

      .health-label {
        color: #666;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .health-details {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .health-detail-card {
        background: white;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 20px;
        transition: all 0.3s;
      }

      .health-detail-card:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        transform: translateY(-2px);
      }

      .detail-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 1px solid #f0f0f0;
      }

      .detail-title {
        font-weight: 600;
        color: #333;
        font-size: 1.1rem;
      }

      .detail-status {
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 500;
        text-transform: uppercase;
      }

      .status-healthy {
        background: #d4edda;
        color: #155724;
      }

      .status-warning {
        background: #fff3cd;
        color: #856404;
      }

      .status-critical {
        background: #f8d7da;
        color: #721c24;
      }

      .detail-metrics {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 15px;
      }

      .metric-item {
        text-align: center;
      }

      .metric-value {
        font-size: 1.2rem;
        font-weight: 600;
        color: #667eea;
        display: block;
        margin-bottom: 5px;
      }

      .metric-label {
        color: #666;
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .services-grid {
        display: grid;
        gap: 10px;
        margin-top: 15px;
      }

      .service-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        background: #f8f9fa;
        border-radius: 6px;
        border: 1px solid #e0e0e0;
      }

      .service-name {
        font-weight: 500;
        color: #333;
      }

      .service-info {
        display: flex;
        gap: 15px;
        font-size: 0.9rem;
        color: #666;
      }

      .service-status {
        padding: 2px 8px;
        border-radius: 12px;
        font-size: 0.7rem;
        font-weight: 500;
        text-transform: uppercase;
      }

      .service-running {
        background: #d4edda;
        color: #155724;
      }

      .service-failed {
        background: #f8d7da;
        color: #721c24;
      }

      .alerts-section {
        background: white;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        margin-top: 30px;
      }

      .alerts-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .alerts-title {
        font-size: 1.5rem;
        font-weight: 400;
        color: #333;
      }

      .alerts-summary {
        display: flex;
        gap: 20px;
        margin-bottom: 25px;
      }

      .alert-summary-item {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        text-align: center;
        min-width: 120px;
      }

      .alert-summary-value {
        font-size: 1.8rem;
        font-weight: 600;
        color: #667eea;
        display: block;
        margin-bottom: 5px;
      }

      .alert-summary-label {
        color: #666;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .alerts-tabs {
        display: flex;
        margin-bottom: 20px;
        border-bottom: 1px solid #e0e0e0;
      }

      .alert-tab {
        padding: 10px 20px;
        cursor: pointer;
        border-bottom: 2px solid transparent;
        transition: all 0.3s;
        font-weight: 500;
      }

      .alert-tab.active {
        border-bottom-color: #667eea;
        color: #667eea;
      }

      .alert-tab:hover {
        background: #f8f9fa;
      }

      .alerts-content {
        display: grid;
        gap: 15px;
      }

      .alert-item {
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 20px;
        transition: all 0.3s;
        position: relative;
      }

      .alert-item:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        transform: translateY(-2px);
      }

      .alert-item.critical {
        border-left: 4px solid #dc3545;
        background: linear-gradient(90deg, #f8d7da 0%, #ffffff 20%);
      }

      .alert-item.warning {
        border-left: 4px solid #ffc107;
        background: linear-gradient(90deg, #fff3cd 0%, #ffffff 20%);
      }

      .alert-item.info {
        border-left: 4px solid #17a2b8;
        background: linear-gradient(90deg, #d1ecf1 0%, #ffffff 20%);
      }

      .alert-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 10px;
      }

      .alert-title {
        font-weight: 600;
        color: #333;
        font-size: 1.1rem;
        margin-bottom: 5px;
      }

      .alert-meta {
        display: flex;
        gap: 15px;
        font-size: 0.9rem;
        color: #666;
      }

      .alert-description {
        color: #555;
        margin-bottom: 15px;
        line-height: 1.4;
      }

      .alert-actions {
        display: flex;
        gap: 10px;
        align-items: center;
      }

      .alert-severity {
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 500;
        text-transform: uppercase;
      }

      .severity-critical {
        background: #f8d7da;
        color: #721c24;
      }

      .severity-warning {
        background: #fff3cd;
        color: #856404;
      }

      .severity-info {
        background: #d1ecf1;
        color: #0c5460;
      }

      .alert-resolve-btn {
        background: #28a745;
        color: white;
        border: none;
        padding: 6px 12px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.8rem;
        transition: background 0.3s;
      }

      .alert-resolve-btn:hover {
        background: #218838;
      }

      .alert-time {
        color: #888;
        font-size: 0.8rem;
      }

      .alert-category {
        display: inline-block;
        padding: 2px 8px;
        background: #e9ecef;
        border-radius: 12px;
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 10px;
      }

      .no-alerts {
        text-align: center;
        padding: 40px;
        color: #666;
      }

      .alerts-toggle {
        display: flex;
        align-items: center;
        gap: 10px;
        font-size: 0.9rem;
        color: #666;
      }

      .alerts-toggle input[type="checkbox"] {
        width: 16px;
        height: 16px;
      }

      /* Alert Notifications Styles */
      .alerts-tabs {
        display: flex;
        margin-bottom: 20px;
        border-bottom: 1px solid #e0e0e0;
      }

      .alert-tab {
        padding: 10px 20px;
        cursor: pointer;
        border-bottom: 2px solid transparent;
        transition: all 0.3s;
        font-weight: 500;
        background: none;
        border: none;
        color: #666;
      }

      .alert-tab.active {
        border-bottom-color: #667eea;
        color: #667eea;
      }

      .alert-tab:hover {
        background: #f8f9fa;
        color: #333;
      }

      .alerts-tab-content {
        display: none;
      }

      .alerts-tab-content.active {
        display: block;
      }

      .alerts-summary {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
        border: 1px solid #e0e0e0;
      }

      .alert-item {
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 15px;
        transition: all 0.3s;
        position: relative;
        background: white;
      }

      .alert-item:hover {
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        transform: translateY(-2px);
      }

      .alert-item.critical {
        border-left: 4px solid #dc3545;
        background: linear-gradient(90deg, #f8d7da 0%, #ffffff 20%);
      }

      .alert-item.warning {
        border-left: 4px solid #ffc107;
        background: linear-gradient(90deg, #fff3cd 0%, #ffffff 20%);
      }

      .alert-item.info {
        border-left: 4px solid #17a2b8;
        background: linear-gradient(90deg, #d1ecf1 0%, #ffffff 20%);
      }

      .alert-item.resolved {
        opacity: 0.7;
        background: #f8f9fa;
      }

      .alert-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 10px;
      }

      .alert-title {
        font-weight: 600;
        color: #333;
        font-size: 1.1rem;
        margin-bottom: 5px;
      }

      .alert-severity {
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 500;
        text-transform: uppercase;
        white-space: nowrap;
      }

      .alert-severity.critical {
        background: #f8d7da;
        color: #721c24;
      }

      .alert-severity.warning {
        background: #fff3cd;
        color: #856404;
      }

      .alert-severity.info {
        background: #d1ecf1;
        color: #0c5460;
      }

      .alert-severity.resolved {
        background: #d4edda;
        color: #155724;
      }

      .alert-description {
        color: #555;
        margin-bottom: 15px;
        line-height: 1.4;
      }

      .alert-meta {
        display: flex;
        gap: 15px;
        font-size: 0.9rem;
        color: #666;
        margin-bottom: 10px;
        flex-wrap: wrap;
      }

      .alert-recommendation {
        background: #e7f3ff;
        padding: 10px 15px;
        border-radius: 6px;
        border-left: 4px solid #667eea;
        font-size: 0.9rem;
        color: #333;
        margin-top: 10px;
      }

      .alert-category {
        display: inline-block;
        padding: 2px 8px;
        background: #e9ecef;
        border-radius: 12px;
        font-size: 0.7rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-bottom: 10px;
      }

      .no-alerts {
        text-align: center;
        padding: 40px;
        color: #666;
        font-style: italic;
      }
    </style>
  </head>
  <body>
    <div class="dashboard-container">
      <div class="header">
        <h1>ðŸš€ Quantum Workspace Agent Dashboard</h1>
        <div class="subtitle">
          Real-time monitoring of AI agents and task execution
        </div>
      </div>

      <div id="errorContainer"></div>

      <div class="stats-grid">
        <div class="stat-card">
          <h3>Total Agents</h3>
          <div class="stat-value" id="totalAgents">--</div>
          <div class="stat-label">Active AI assistants</div>
        </div>
        <div class="stat-card">
          <h3>Running Agents</h3>
          <div class="stat-value" id="runningAgents">--</div>
          <div class="stat-label">Currently active</div>
        </div>
        <div class="stat-card">
          <h3>Queued Tasks</h3>
          <div class="stat-value" id="queuedTasks">--</div>
          <div class="stat-label">Waiting for execution</div>
        </div>
        <div class="stat-card">
          <h3>Completed Tasks</h3>
          <div class="stat-value" id="completedTasks">--</div>
          <div class="stat-label">Successfully finished</div>
        </div>
        <div class="stat-card">
          <h3>System CPU</h3>
          <div class="stat-value" id="systemCpu">--%</div>
          <div class="stat-label">Current usage</div>
        </div>
        <div class="stat-card">
          <h3>System Memory</h3>
          <div class="stat-value" id="systemMemory">--MB</div>
          <div class="stat-label">Current usage</div>
        </div>
      </div>

      <div class="main-content">
        <div class="agents-section">
          <div class="section-header">
            <h2>ðŸ¤– Agent Status</h2>
            <button class="refresh-btn" onclick="loadDashboard()">
              Refresh
            </button>
          </div>
          <div id="agentsContainer">
            <div class="loading">Loading agent data...</div>
          </div>
        </div>

        <div class="tasks-section">
          <div class="section-header">
            <h2>ðŸ“‹ Task Queue</h2>
          </div>
          <div id="tasksContainer">
            <div class="loading">Loading task data...</div>
          </div>
        </div>
      </div>

      <div class="performance-section">
        <div class="section-header">
          <h2>ðŸ“Š Performance Metrics</h2>
        </div>
        <div id="performanceContainer">
          <div class="loading">Loading performance data...</div>
        </div>
      </div>

      <div class="execution-history-section">
        <div class="section-header">
          <h2>ðŸ“ˆ Task Execution History</h2>
        </div>
        <div id="executionHistoryContainer">
          <div class="loading">Loading execution history...</div>
        </div>
      </div>
    </div>

    <script>
        let agentData = {};
        let taskData = {};
        let performanceData = {};
        let executionHistoryData = {};
        let systemHealthData = {};

        // Load dashboard data on page load
        document.addEventListener('DOMContentLoaded', function() {
          loadDashboard();
          // Auto-refresh every 30 seconds
          setInterval(loadDashboard, 30000);
        });

        async function loadDashboard() {
          try {
            await Promise.all([
              loadAgentData(),
              loadTaskData(),
              loadPerformanceData(),
              loadExecutionHistoryData(),
              loadSystemHealthData()
            ]);
            updateStats();
            updateAgentsDisplay();
            updateTasksDisplay();
            updatePerformanceDisplay();
            updateExecutionHistoryDisplay();
            updateSystemHealthDisplay();
            hideError();
          } catch (error) {
            console.error('Failed to load dashboard:', error);
            showError('Failed to load dashboard data. Please check server connection.');
          }
        }

        async function loadAgentData() {
          try {
            const response = await fetch('./agents/agent_status.json');
            if (!response.ok) {
              throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            agentData = await response.json();
            console.log('Agent data loaded:', agentData);
          } catch (error) {
            console.error('Failed to load agent data:', error);
            throw error;
          }
        }

        async function loadTaskData() {
          try {
            const response = await fetch('./agents/task_queue.json');
            if (!response.ok) {
              throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            taskData = await response.json();
            console.log('Task data loaded:', taskData);
          } catch (error) {
            console.error('Failed to load task data:', error);
            throw error;
          }
        }

        async function loadPerformanceData() {
          try {
            const response = await fetch('./agents/performance_metrics.json');
            if (!response.ok) {
              throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            performanceData = await response.json();
            console.log('Performance data loaded:', performanceData);
          } catch (error) {
            console.error('Failed to load performance data:', error);
            throw error;
          }
        }

        async function loadExecutionHistoryData() {
          try {
            const response = await fetch('./agents/task_execution_history.json');
            if (!response.ok) {
              throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            executionHistoryData = await response.json();
            console.log('Execution history data loaded:', executionHistoryData);
          } catch (error) {
            console.error('Failed to load execution history data:', error);
            throw error;
          }
        }

        function updateStats() {
          const agents = agentData.agents || {};
          const tasks = taskData.tasks || [];
          const metrics = performanceData.metrics || [];

          // Agent stats
          const totalAgents = Object.keys(agents).length;
          const runningAgents = Object.values(agents).filter(agent => agent.status === 'running').length;

          // Task stats
          const queuedTasks = tasks.filter(task => task.status === 'queued').length;
          const completedTasks = tasks.filter(task => task.status === 'completed').length;

          // System performance stats
          const latestMetrics = metrics.length > 0 ? metrics[metrics.length - 1] : null;

          document.getElementById('totalAgents').textContent = totalAgents;
          document.getElementById('runningAgents').textContent = runningAgents;
          document.getElementById('queuedTasks').textContent = queuedTasks;
          document.getElementById('completedTasks').textContent = completedTasks;

          if (latestMetrics) {
            document.getElementById('systemCpu').textContent = `${latestMetrics.cpu_usage}%`;
            document.getElementById('systemMemory').textContent = `${latestMetrics.memory_usage}%`;
          }
        }

        function updateAgentsDisplay() {
          const container = document.getElementById('agentsContainer');
          const agents = agentData.agents || {};

          if (Object.keys(agents).length === 0) {
            container.innerHTML = '<div class="loading">No agents found</div>';
            return;
          }

          const agentCards = Object.entries(agents).map(([name, agent]) => {
            const statusClass = `status-${agent.status}`;
            return `
              <div class="agent-card">
                <div class="agent-header">
                  <div class="agent-name">${formatAgentName(name)}</div>
                  <div class="agent-status ${statusClass}">${agent.status}</div>
                </div>
                <div class="agent-pid">PID: ${agent.pid || 'N/A'}</div>
              </div>
            `;
          }).join('');

          container.innerHTML = `<div class="agent-grid">${agentCards}</div>`;
        }

        function updateTasksDisplay() {
          const container = document.getElementById('tasksContainer');
          const tasks = taskData.tasks || [];

          if (tasks.length === 0) {
            container.innerHTML = '<div class="loading">No tasks found</div>';
            return;
          }

          // Show only the first 10 tasks to avoid overwhelming the UI
          const displayTasks = tasks.slice(0, 10);

          const taskItems = displayTasks.map(task => {
            const priorityClass = getPriorityClass(task.priority);
            const statusClass = `status-${task.status}`;
            const createdDate = new Date(task.created * 1000).toLocaleDateString();

            return `
              <div class="task-item">
                <div class="task-header">
                  <div class="task-id">${task.id}</div>
                  <div class="task-priority ${priorityClass}">Priority ${task.priority}</div>
                </div>
                <div class="task-description">${task.description}</div>
                <div class="task-meta">
                  <span>Type: ${task.type}</span>
                  <span class="task-status ${statusClass}">${task.status}</span>
                </div>
                <div class="task-meta">
                  <span>Agent: ${task.assigned_agent}</span>
                  <span>Created: ${createdDate}</span>
                </div>
              </div>
            `;
          }).join('');

          container.innerHTML = `<div class="tasks-list">${taskItems}</div>`;
        }

        function updatePerformanceDisplay() {
          const container = document.getElementById('performanceContainer');
          const metrics = performanceData.metrics || [];

          if (metrics.length === 0) {
            container.innerHTML = '<div class="loading">No performance data available</div>';
            return;
          }

          // Get the latest metrics
          const latest = metrics[metrics.length - 1];
          const previous = metrics.length > 1 ? metrics[metrics.length - 2] : latest;

          const timestamp = new Date(parseInt(latest.timestamp) * 1000).toLocaleString();

          // Calculate trends
          const cpuTrend = parseFloat(latest.cpu_usage) - parseFloat(previous.cpu_usage);
          const memoryTrend = parseFloat(latest.memory_usage) - parseFloat(previous.memory_usage);

          const performanceCard = `
            <div class="performance-card">
              <div class="performance-header">
                <div class="performance-title">System Performance</div>
                <div class="performance-time">Last updated: ${timestamp}</div>
              </div>
              <div class="performance-metrics">
                <div class="metric-item">
                  <div class="metric-value">${latest.cpu_usage}%</div>
                  <div class="metric-label">CPU Usage</div>
                </div>
                <div class="metric-item">
                  <div class="metric-value">${latest.memory_usage}%</div>
                  <div class="metric-label">Memory Usage</div>
                </div>
                <div class="metric-item">
                  <div class="metric-value">${latest.disk_usage}%</div>
                  <div class="metric-label">Disk Usage</div>
                </div>
                <div class="metric-item">
                  <div class="metric-value">${latest.agent_count.trim()}</div>
                  <div class="metric-label">Active Agents</div>
                </div>
              </div>
              <div class="performance-trend">
                <div class="trend-indicator ${getTrendClass(cpuTrend)}">
                  CPU: ${cpuTrend >= 0 ? '+' : ''}${cpuTrend.toFixed(1)}% ${getTrendIcon(cpuTrend)}
                </div>
                <div class="trend-indicator ${getTrendClass(memoryTrend)}">
                  Memory: ${memoryTrend >= 0 ? '+' : ''}${memoryTrend.toFixed(1)}% ${getTrendIcon(memoryTrend)}
                </div>
              </div>
            </div>
          `;

          container.innerHTML = `<div class="performance-grid">${performanceCard}</div>`;
        }

        function updateExecutionHistoryDisplay() {
          const container = document.getElementById('executionHistoryContainer');
          const history = executionHistoryData.execution_history || [];
          const summary = executionHistoryData.summary || {};

          if (history.length === 0) {
            container.innerHTML = '<div class="loading">No execution history available</div>';
            return;
          }

          // Show summary first
          let html = `
            <div class="execution-summary">
              <div class="summary-grid">
                <div class="summary-item">
                  <span class="summary-value">${summary.total_completed || 0}</span>
                  <div class="summary-label">Total Completed</div>
                </div>
                <div class="summary-item">
                  <span class="summary-value">${summary.success_rate || 0}%</span>
                  <div class="summary-label">Success Rate</div>
                </div>
                <div class="summary-item">
                  <span class="summary-value">${Math.round(summary.average_duration || 0)}s</span>
                  <div class="summary-label">Avg Duration</div>
                </div>
                <div class="summary-item">
                  <span class="summary-value">${summary.total_files_processed || 0}</span>
                  <div class="summary-label">Files Processed</div>
                </div>
              </div>
            </div>
          `;

          // Show recent executions (last 5)
          const recentExecutions = history.slice(-5).reverse();

          const executionItems = recentExecutions.map(execution => {
            const startedDate = new Date(execution.started * 1000).toLocaleString();
            const completedDate = new Date(execution.completed * 1000).toLocaleString();
            const duration = Math.round(execution.duration_seconds);
            const resultClass = `result-${execution.result}`;

            return `
              <div class="execution-item">
                <div class="execution-header">
                  <div class="execution-title">${execution.task_id}</div>
                  <div class="execution-meta">
                    <span>${execution.type}</span>
                    <span class="execution-result ${resultClass}">${execution.result}</span>
                  </div>
                </div>
                <div class="execution-description">${execution.description}</div>
                <div class="execution-stats">
                  <div class="execution-stat">
                    <span class="execution-stat-value">${duration}s</span>
                    <div class="execution-stat-label">Duration</div>
                  </div>
                  <div class="execution-stat">
                    <span class="execution-stat-value">${execution.files_processed || 0}</span>
                    <div class="execution-stat-label">Files</div>
                  </div>
                  <div class="execution-stat">
                    <span class="execution-stat-value">${execution.issues_found || 0}</span>
                    <div class="execution-stat-label">Issues</div>
                  </div>
                  <div class="execution-stat">
                    <span class="execution-stat-value">${execution.recommendations || 0}</span>
                    <div class="execution-stat-label">Recommendations</div>
                  </div>
                </div>
                <div class="execution-meta">
                  <span>Agent: ${execution.assigned_agent}</span>
                  <span>Started: ${startedDate}</span>
                  <span>Completed: ${completedDate}</span>
                </div>
                <div class="execution-output">
                  ${execution.output}
                </div>
              </div>
            `;
          }).join('');

          html += `<div class="execution-history-grid">${executionItems}</div>`;

          container.innerHTML = html;
        }

        <div class="system-health-section">
          <div class="section-header">
            <h2>ðŸ©º System Health Indicators</h2>
          </div>
          <div id="systemHealthContainer">
            <div class="loading">Loading system health data...</div>
          </div>
        </div>
      </div>

      <!-- Alert Notifications Section -->
      <div class="dashboard-section">
        <div class="section-header">
          <h2>ðŸš¨ Alert Notifications</h2>
        </div>
        <div id="alertsContainer">
          <div class="loading">Loading alert data...</div>
        </div>
      </div>

      <script>
        let agentData = {};
        let taskData = {};
        let performanceData = {};
        let executionHistoryData = {};
        let systemHealthData = {};
        let alertsData = {};

        // Load dashboard data on page load
        document.addEventListener('DOMContentLoaded', function() {
          loadDashboard();
          // Auto-refresh every 30 seconds
          setInterval(loadDashboard, 30000);
        });

        async function loadDashboard() {
          try {
            await Promise.all([
              loadAgentData(),
              loadTaskData(),
              loadPerformanceData(),
              loadExecutionHistoryData(),
              loadSystemHealthData()
            ]);
            updateStats();
            updateAgentsDisplay();
            updateTasksDisplay();
            updatePerformanceDisplay();
            updateExecutionHistoryDisplay();
            updateSystemHealthDisplay();
            hideError();
          } catch (error) {
            console.error('Failed to load dashboard:', error);
            showError('Failed to load dashboard data. Please check server connection.');
          }
        }

        async function loadAgentData() {
          try {
            const response = await fetch('./agents/agent_status.json');
            if (!response.ok) {
              throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            agentData = await response.json();
            console.log('Agent data loaded:', agentData);
          } catch (error) {
            console.error('Failed to load agent data:', error);
            throw error;
          }
        }

        async function loadTaskData() {
          try {
            const response = await fetch('./agents/task_queue.json');
            if (!response.ok) {
              throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            taskData = await response.json();
            console.log('Task data loaded:', taskData);
          } catch (error) {
            console.error('Failed to load task data:', error);
            throw error;
          }
        }

        async function loadPerformanceData() {
          try {
            const response = await fetch('./agents/performance_metrics.json');
            if (!response.ok) {
              throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            performanceData = await response.json();
            console.log('Performance data loaded:', performanceData);
          } catch (error) {
            console.error('Failed to load performance data:', error);
            throw error;
          }
        }

        async function loadExecutionHistoryData() {
          try {
            const response = await fetch('./agents/task_execution_history.json');
            if (!response.ok) {
              throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            executionHistoryData = await response.json();
            console.log('Execution history data loaded:', executionHistoryData);
          } catch (error) {
            console.error('Failed to load execution history data:', error);
            throw error;
          }
        }

        async function loadSystemHealthData() {
          try {
            const response = await fetch('./agents/system_health.json');
            if (!response.ok) {
              throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            systemHealthData = await response.json();
            console.log('System health data loaded:', systemHealthData);
          } catch (error) {
            console.error('Failed to load system health data:', error);
            throw error;
          }
        }

        async function loadAlertsData() {
          try {
            const response = await fetch('./agents/alerts.json');
            if (!response.ok) {
              throw new Error(`HTTP ${response.status}: ${response.statusText}`);
            }
            alertsData = await response.json();
            console.log('Alerts data loaded:', alertsData);
          } catch (error) {
            console.error('Failed to load alerts data:', error);
            throw error;
          }
        }

        function updateStats() {
          const agents = agentData.agents || {};
          const tasks = taskData.tasks || [];
          const metrics = performanceData.metrics || [];

          // Agent stats
          const totalAgents = Object.keys(agents).length;
          const runningAgents = Object.values(agents).filter(agent => agent.status === 'running').length;

          // Task stats
          const queuedTasks = tasks.filter(task => task.status === 'queued').length;
          const completedTasks = tasks.filter(task => task.status === 'completed').length;

          // System performance stats
          const latestMetrics = metrics.length > 0 ? metrics[metrics.length - 1] : null;

          document.getElementById('totalAgents').textContent = totalAgents;
          document.getElementById('runningAgents').textContent = runningAgents;
          document.getElementById('queuedTasks').textContent = queuedTasks;
          document.getElementById('completedTasks').textContent = completedTasks;

          if (latestMetrics) {
            document.getElementById('systemCpu').textContent = `${latestMetrics.cpu_usage}%`;
            document.getElementById('systemMemory').textContent = `${latestMetrics.memory_usage}%`;
          }
        }

        function updateAgentsDisplay() {
          const container = document.getElementById('agentsContainer');
          const agents = agentData.agents || {};

          if (Object.keys(agents).length === 0) {
            container.innerHTML = '<div class="loading">No agents found</div>';
            return;
          }

          const agentCards = Object.entries(agents).map(([name, agent]) => {
            const statusClass = `status-${agent.status}`;
            return `
              <div class="agent-card">
                <div class="agent-header">
                  <div class="agent-name">${formatAgentName(name)}</div>
                  <div class="agent-status ${statusClass}">${agent.status}</div>
                </div>
                <div class="agent-pid">PID: ${agent.pid || 'N/A'}</div>
              </div>
            `;
          }).join('');

          container.innerHTML = `<div class="agent-grid">${agentCards}</div>`;
        }

        function updateTasksDisplay() {
          const container = document.getElementById('tasksContainer');
          const tasks = taskData.tasks || [];

          if (tasks.length === 0) {
            container.innerHTML = '<div class="loading">No tasks found</div>';
            return;
          }

          // Show only the first 10 tasks to avoid overwhelming the UI
          const displayTasks = tasks.slice(0, 10);

          const taskItems = displayTasks.map(task => {
            const priorityClass = getPriorityClass(task.priority);
            const statusClass = `status-${task.status}`;
            const createdDate = new Date(task.created * 1000).toLocaleDateString();

            return `
              <div class="task-item">
                <div class="task-header">
                  <div class="task-id">${task.id}</div>
                  <div class="task-priority ${priorityClass}">Priority ${task.priority}</div>
                </div>
                <div class="task-description">${task.description}</div>
                <div class="task-meta">
                  <span>Type: ${task.type}</span>
                  <span class="task-status ${statusClass}">${task.status}</span>
                </div>
                <div class="task-meta">
                  <span>Agent: ${task.assigned_agent}</span>
                  <span>Created: ${createdDate}</span>
                </div>
              </div>
            `;
          }).join('');

          container.innerHTML = `<div class="tasks-list">${taskItems}</div>`;
        }

        function updatePerformanceDisplay() {
          const container = document.getElementById('performanceContainer');
          const metrics = performanceData.metrics || [];

          if (metrics.length === 0) {
            container.innerHTML = '<div class="loading">No performance data available</div>';
            return;
          }

          // Get the latest metrics
          const latest = metrics[metrics.length - 1];
          const previous = metrics.length > 1 ? metrics[metrics.length - 2] : latest;

          const timestamp = new Date(parseInt(latest.timestamp) * 1000).toLocaleString();

          // Calculate trends
          const cpuTrend = parseFloat(latest.cpu_usage) - parseFloat(previous.cpu_usage);
          const memoryTrend = parseFloat(latest.memory_usage) - parseFloat(previous.memory_usage);

          const performanceCard = `
            <div class="performance-card">
              <div class="performance-header">
                <div class="performance-title">System Performance</div>
                <div class="performance-time">Last updated: ${timestamp}</div>
              </div>
              <div class="performance-metrics">
                <div class="metric-item">
                  <div class="metric-value">${latest.cpu_usage}%</div>
                  <div class="metric-label">CPU Usage</div>
                </div>
                <div class="metric-item">
                  <div class="metric-value">${latest.memory_usage}%</div>
                  <div class="metric-label">Memory Usage</div>
                </div>
                <div class="metric-item">
                  <div class="metric-value">${latest.disk_usage}%</div>
                  <div class="metric-label">Disk Usage</div>
                </div>
                <div class="metric-item">
                  <div class="metric-value">${latest.agent_count.trim()}</div>
                  <div class="metric-label">Active Agents</div>
                </div>
              </div>
              <div class="performance-trend">
                <div class="trend-indicator ${getTrendClass(cpuTrend)}">
                  CPU: ${cpuTrend >= 0 ? '+' : ''}${cpuTrend.toFixed(1)}% ${getTrendIcon(cpuTrend)}
                </div>
                <div class="trend-indicator ${getTrendClass(memoryTrend)}">
                  Memory: ${memoryTrend >= 0 ? '+' : ''}${memoryTrend.toFixed(1)}% ${getTrendIcon(memoryTrend)}
                </div>
              </div>
            </div>
          `;

          container.innerHTML = `<div class="performance-grid">${performanceCard}</div>`;
        }

        function updateExecutionHistoryDisplay() {
          const container = document.getElementById('executionHistoryContainer');
          const history = executionHistoryData.execution_history || [];
          const summary = executionHistoryData.summary || {};

          if (history.length === 0) {
            container.innerHTML = '<div class="loading">No execution history available</div>';
            return;
          }

          // Show summary first
          let html = `
            <div class="execution-summary">
              <div class="summary-grid">
                <div class="summary-item">
                  <span class="summary-value">${summary.total_completed || 0}</span>
                  <div class="summary-label">Total Completed</div>
                </div>
                <div class="summary-item">
                  <span class="summary-value">${summary.success_rate || 0}%</span>
                  <div class="summary-label">Success Rate</div>
                </div>
                <div class="summary-item">
                  <span class="summary-value">${Math.round(summary.average_duration || 0)}s</span>
                  <div class="summary-label">Avg Duration</div>
                </div>
                <div class="summary-item">
                  <span class="summary-value">${summary.total_files_processed || 0}</span>
                  <div class="summary-label">Files Processed</div>
                </div>
              </div>
            </div>
          `;

          // Show recent executions (last 5)
          const recentExecutions = history.slice(-5).reverse();

          const executionItems = recentExecutions.map(execution => {
            const startedDate = new Date(execution.started * 1000).toLocaleString();
            const completedDate = new Date(execution.completed * 1000).toLocaleString();
            const duration = Math.round(execution.duration_seconds);
            const resultClass = `result-${execution.result}`;

            return `
              <div class="execution-item">
                <div class="execution-header">
                  <div class="execution-title">${execution.task_id}</div>
                  <div class="execution-meta">
                    <span>${execution.type}</span>
                    <span class="execution-result ${resultClass}">${execution.result}</span>
                  </div>
                </div>
                <div class="execution-description">${execution.description}</div>
                <div class="execution-stats">
                  <div class="execution-stat">
                    <span class="execution-stat-value">${duration}s</span>
                    <div class="execution-stat-label">Duration</div>
                  </div>
                  <div class="execution-stat">
                    <span class="execution-stat-value">${execution.files_processed || 0}</span>
                    <div class="execution-stat-label">Files</div>
                  </div>
                  <div class="execution-stat">
                    <span class="execution-stat-value">${execution.issues_found || 0}</span>
                    <div class="execution-stat-label">Issues</div>
                  </div>
                  <div class="execution-stat">
                    <span class="execution-stat-value">${execution.recommendations || 0}</span>
                    <div class="execution-stat-label">Recommendations</div>
                  </div>
                </div>
                <div class="execution-meta">
                  <span>Agent: ${execution.assigned_agent}</span>
                  <span>Started: ${startedDate}</span>
                  <span>Completed: ${completedDate}</span>
                </div>
                <div class="execution-output">
                  ${execution.output}
                </div>
              </div>
            `;
          }).join('');

          html += `<div class="execution-history-grid">${executionItems}</div>`;

          container.innerHTML = html;
        }

        function updateSystemHealthDisplay() {
          const container = document.getElementById('systemHealthContainer');
          const health = systemHealthData.system_health || {};

          if (!health || Object.keys(health).length === 0) {
            container.innerHTML = '<div class="loading">No system health data available</div>';
            return;
          }

          const overall = health.overall_health || {};
          const server = health.server_status || {};
          const disk = health.disk_usage || {};
          const memory = health.memory_status || {};
          const services = health.services_status || {};

          // Overall health overview
          const overallStatusClass = `health-${overall.status || 'unknown'}`;
          const serverStatusClass = `health-${server.status || 'unknown'}`;
          const diskStatusClass = `health-${disk.status || 'unknown'}`;
          const memoryStatusClass = `health-${memory.status || 'unknown'}`;

          let html = `
            <div class="health-overview">
              <div class="health-card ${overallStatusClass}">
                <div class="health-value">${overall.score || 0}</div>
                <div class="health-label">Overall Health Score</div>
              </div>
              <div class="health-card ${serverStatusClass}">
                <div class="health-value">${server.response_time_ms || 0}ms</div>
                <div class="health-label">Server Response Time</div>
              </div>
              <div class="health-card ${diskStatusClass}">
                <div class="health-value">${disk.usage_percent || 0}%</div>
                <div class="health-label">Disk Usage</div>
              </div>
              <div class="health-card ${memoryStatusClass}">
                <div class="health-value">${memory.usage_percent || 0}%</div>
                <div class="health-label">Memory Usage</div>
              </div>
            </div>

            <div class="health-details">
              <div class="health-detail-card">
                <div class="detail-header">
                  <div class="detail-title">Server Status</div>
                  <div class="detail-status status-${server.status || 'unknown'}">${server.status || 'unknown'}</div>
                </div>
                <div class="detail-metrics">
                  <div class="metric-item">
                    <div class="metric-value">${Math.round((server.uptime_seconds || 0) / 3600)}h</div>
                    <div class="metric-label">Uptime</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">${server.response_time_ms || 0}ms</div>
                    <div class="metric-label">Response Time</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">${server.version || 'N/A'}</div>
                    <div class="metric-label">Version</div>
                  </div>
                </div>
              </div>

              <div class="health-detail-card">
                <div class="detail-header">
                  <div class="detail-title">System Resources</div>
                  <div class="detail-status status-healthy">Monitoring</div>
                </div>
                <div class="detail-metrics">
                  <div class="metric-item">
                    <div class="metric-value">${disk.used_gb || 0}GB</div>
                    <div class="metric-label">Disk Used</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">${disk.available_gb || 0}GB</div>
                    <div class="metric-label">Disk Free</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">${memory.used_gb || 0}GB</div>
                    <div class="metric-label">Memory Used</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">${memory.available_gb || 0}GB</div>
                    <div class="metric-label">Memory Free</div>
                  </div>
                </div>
              </div>

              <div class="health-detail-card">
                <div class="detail-header">
                  <div class="detail-title">Services Status</div>
                  <div class="detail-status status-healthy">${services.running_services || 0}/${services.total_services || 0} Running</div>
                </div>
                <div class="services-grid">
          `;

          // Add service items
          const serviceList = services.services || [];
          serviceList.forEach(service => {
            const serviceStatusClass = service.status === 'running' ? 'service-running' : 'service-failed';
            html += `
              <div class="service-item">
                <div class="service-name">${service.name}</div>
                <div class="service-info">
                  <span>PID: ${service.pid || 'N/A'}</span>
                  <span>${service.memory_mb || 0}MB</span>
                  <span>${service.cpu_percent || 0}% CPU</span>
                  <span class="service-status ${serviceStatusClass}">${service.status}</span>
                </div>
              </div>
            `;
          });

          html += `
                </div>
              </div>
            </div>
          `;

          container.innerHTML = html;
        }

        function updateAlertsDisplay() {
          const container = document.getElementById('alertsContainer');
          const alerts = alertsData.alerts || {};
          const summary = alerts.alert_summary || {};

          if (!alerts.active_alerts || alerts.active_alerts.length === 0) {
            container.innerHTML = '<div class="loading">No active alerts</div>';
            return;
          }

          // Create tabs for Active and History
          let html = `
            <div class="alerts-tabs">
              <button class="alert-tab active" onclick="showAlertsTab('active')">Active (${alerts.active_alerts.length})</button>
              <button class="alert-tab" onclick="showAlertsTab('history')">History (${alerts.alert_history ? alerts.alert_history.length : 0})</button>
            </div>

            <div class="alerts-summary">
              <div class="summary-grid">
                <div class="summary-item">
                  <span class="summary-value">${summary.critical_count || 0}</span>
                  <div class="summary-label">Critical</div>
                </div>
                <div class="summary-item">
                  <span class="summary-value">${summary.warning_count || 0}</span>
                  <div class="summary-label">Warning</div>
                </div>
                <div class="summary-item">
                  <span class="summary-value">${summary.info_count || 0}</span>
                  <div class="summary-label">Info</div>
                </div>
                <div class="summary-item">
                  <span class="summary-value">${summary.total_resolved_today || 0}</span>
                  <div class="summary-label">Resolved</div>
                </div>
              </div>
            </div>

            <div id="activeAlertsTab" class="alerts-tab-content active">
          `;

          // Active alerts
          alerts.active_alerts.forEach(alert => {
            const severityClass = `alert-${alert.severity}`;
            const categoryClass = `alert-${alert.category.toLowerCase()}`;
            const timestamp = new Date(alert.timestamp * 1000).toLocaleString();

            html += `
              <div class="alert-item ${severityClass} ${categoryClass}">
                <div class="alert-header">
                  <div class="alert-title">${alert.title}</div>
                  <div class="alert-severity">${alert.severity}</div>
                </div>
                <div class="alert-description">${alert.description}</div>
                <div class="alert-meta">
                  <span>Category: ${alert.category}</span>
                  <span>Source: ${alert.affected_components ? alert.affected_components.join(', ') : 'System'}</span>
                  <span>Time: ${timestamp}</span>
                </div>
                ${alert.recommended_action ? `<div class="alert-recommendation">ðŸ’¡ ${alert.recommended_action}</div>` : ''}
              </div>
            `;
          });

          html += `
            </div>

            <div id="historyAlertsTab" class="alerts-tab-content">
          `;

          // Historical alerts (last 10)
          if (alerts.alert_history && alerts.alert_history.length > 0) {
            const recentHistory = alerts.alert_history.slice(-10).reverse();
            recentHistory.forEach(alert => {
              const severityClass = `alert-${alert.severity}`;
              const categoryClass = `alert-${alert.category.toLowerCase()}`;
              const timestamp = new Date(alert.timestamp * 1000).toLocaleString();
              const resolvedTime = alert.resolved_timestamp ? new Date(alert.resolved_timestamp * 1000).toLocaleString() : 'N/A';

              html += `
                <div class="alert-item ${severityClass} ${categoryClass} resolved">
                  <div class="alert-header">
                    <div class="alert-title">${alert.title}</div>
                    <div class="alert-severity resolved">${alert.severity} (Resolved)</div>
                  </div>
                  <div class="alert-description">${alert.description}</div>
                  <div class="alert-meta">
                    <span>Category: ${alert.category}</span>
                    <span>Source: ${alert.affected_components ? alert.affected_components.join(', ') : 'System'}</span>
                    <span>Created: ${timestamp}</span>
                    <span>Resolved: ${resolvedTime}</span>
                  </div>
                </div>
              `;
            });
          }

          html += `
            </div>
          `;

          container.innerHTML = html;
        }

        function showAlertsTab(tabName) {
          // Update tab buttons
          document.querySelectorAll('.alert-tab').forEach(tab => tab.classList.remove('active'));
          document.querySelector(`[onclick="showAlertsTab('${tabName}')"]`).classList.add('active');

          // Update tab content
          document.querySelectorAll('.alerts-tab-content').forEach(content => content.classList.remove('active'));
          document.getElementById(`${tabName}AlertsTab`).classList.add('active');
        }
          if (value > 5) return 'trend-up';
          if (value < -5) return 'trend-down';
          return 'trend-stable';
        }

        function getTrendIcon(value) {
          if (value > 5) return 'ðŸ“ˆ';
          if (value < -5) return 'ðŸ“‰';
          return 'âž¡ï¸';
        }

        function formatAgentName(name) {
          return name.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
        }

        function getPriorityClass(priority) {
          if (priority >= 8) return 'priority-high';
          if (priority >= 5) return 'priority-medium';
          return 'priority-low';
        }

        function showError(message) {
          const container = document.getElementById('errorContainer');
          container.innerHTML = `<div class="error">âš ï¸ ${message}</div>`;
        }

        function hideError() {
          document.getElementById('errorContainer').innerHTML = '';
        }

        // Handle page visibility changes to refresh data when tab becomes active
        document.addEventListener('visibilitychange', function() {
          if (!document.hidden) {
            loadDashboard();
          }
        });
    </script>
  </body>
</html>
